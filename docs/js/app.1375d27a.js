(function(e){function t(t){for(var a,o,l=t[0],s=t[1],c=t[2],u=0,h=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r={app:0},i=[];function l(e){return s.p+"js/"+({article:"article",home:"home"}[e]||e)+"."+{article:"0503e131",home:"b53afb55"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={article:1,home:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({article:"article",home:"home"}[e]||e)+"."+{article:"2232fe19",home:"52291c88"}[e]+".css",r=s.p+a,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=i[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===r))return t()}var h=document.getElementsByTagName("style");for(l=0;l<h.length;l++){c=h[l],u=c.getAttribute("data-href");if(u===a||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[e],d.parentNode.removeChild(d),n(i)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=l(e);var h=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",h.name="ChunkLoadError",h.type=a,h.request=o,n[1](h)}r[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2a8c":function(e,t,n){},"328b":function(e,t,n){},5635:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("page-header"),n("router-view"),n("page-footer")],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-header-wrap"},[n("div",{staticClass:"ui-header"},[n("router-link",{staticClass:"logo",attrs:{to:"home"}},[e._v("LOGO")]),n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal",router:"","default-active":"home"},on:{select:e.onLangChange}},[n("el-menu-item",{attrs:{index:"home"}},[e._v(" "+e._s(e.$t("header.home"))+" ")]),n("el-submenu",{staticClass:"lang-selector",attrs:{index:"lang"}},[n("template",{slot:"title"},[e._v(e._s(e.$t("header.lang")))]),n("el-menu-item",{attrs:{index:"cn"}},[e._v("中文-简体")]),n("el-menu-item",{attrs:{index:"en"}},[e._v("English")])],2)],1)],1)])},l=[],s=(n("c975"),n("90b9")),c={methods:{onLangChange:function(e){["en","cn"].indexOf(e)>-1&&(s["a"].setStorage("lang",e),location.reload())}}},u=c,h=(n("a901"),n("2877")),d=Object(h["a"])(u,i,l,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-footer"},[n("p",[n("i",{staticClass:"icon el-icon-message"}),e._v(" "+e._s(e.$t("footer.contact"))+" keyunluo@tencent.com")])])},m=[],g={methods:{onLangChange:function(e){["en","cn"].indexOf(e)>-1&&(s["a"].setStorage("lang",e),location.reload())}}},y=g,b=(n("b332"),Object(h["a"])(y,f,m,!1,null,null,null)),w=b.exports,v={components:{PageHeader:p,PageFooter:w}},k=v,A=Object(h["a"])(k,o,r,!1,null,null,null),x=A.exports,S=n("5c96"),W=n.n(S),F=n("a925"),P=n("ef6a"),_=n("c6d3"),O=n.n(_),T={header:{home:"首页",aboutUs:"关于我们",lang:"中文-简体"},footer:{contact:"联系我们："},op:{readMore:"了解更多"},title:{articles:"相关研究"},tip:{articleNotFound:"未找到此文章"},intro:{xray:{title:"关于 Deep X-ray",sum:"像X射线一样深度洞悉网络安全",detail:"数百年前，X射线的出现，使得我们有机会阅览隐藏在冰山之后的细节。今天，智能时代AI技术汹涌澎湃，日新月异，我们有了一个看到更加广阔的安全世界的机会。为此，腾讯安全平台部朱雀实验室开启了一个名为Deep X-Ray的系列研究项目，希望用新时代的X射线技术——AI，去穿透一切障碍，发现网络安全里的无限可能。"}},article:{wafRulesPrinter:{title:"关于 WAF 规则打印",sum:"用AI技术打印出WAF防火墙背后的防御规则",detail:'<img src="'.concat(O.a,'"><br>\n      <h3>简介</h3>\n      <p>通常来说WAF通过正则表达式来拦截恶意请求，这使得很多WEB攻击变得不可实施，例如SQL注入。但是如果攻击者掌握了WAF后端的规则，便可以通过绕过的方式打开一个缺口。此外，对于商业WAF产品来说，好的防护规则可以使产品具备更强的防御能力，是产品的核心竞争力，如果WAF规则被泄露了，无疑会对商业价值造成巨大损失。这里我们提出了一种全新的攻击技术，我们借助机器学习强大的预测和推理能力，完全以黑盒方式探测出WAF后端的规则，可指导安全专家进一步开展渗透等后续工作。</p>\n      <h3>背景</h3>\n      <p>人工探测WAF规则在细节处理上很容易疏漏，并且效率底下，导致探测出的规则不准确。而机器学习善于从历史攻击payload数据中学习经验，用这种经验来预测payload某个位置上所有可能的单词，可避免探测疏漏问题。此外，原始payload中可能含有多个攻击子payload，我们难以同时推出他们，必须分而治之，然而这并不容易，因为这种组合空间太大了。而机器学习能基于已有的探测数据帮助我们判断哪些子payload更有可能是恶意的，从而快速找出那些们称之为种子的能匹配WAF规则的最小payload。最终可实现自动化、批量的窃取WAF系统的防护规则。</p>\n      <h3>原理</h3>\n      <p>具体来说，我们采集公开可获取的数据，进行数据处理后，构建二分类模型生成种子payload，接着使用多分类推荐模型对种子payload中的每个位置进行探测，通过反馈是否被WAF拦截推断出该位置的正则表达式单元，最后对这些正则表达式单元进行增删并等操作，形成最终的规则集。该方法主要解决了人工探测的两个局限，首先，人工探测由于耗时耗力难以大规模展开，此外，这种经验与攻击者的技术水平息息相关，在一些细节方面很容易疏漏，最终导致推测出来的规则可能只是真实防护规则的一个子集。</p>\n      <h3>防御</h3>\n      <ul>\n          <li>攻击得以实施的前提：<br>\n            <ol>\n              <li>WAF使用基线模型分析请求并比较与正常业务的偏离程度<br></li>\n              <li>基于AI的后端策略，该策略很难以正则表达式的形式显式的输出来</li>\n            </ol>\n          </li>\n          <li>通过重写http响应以加深反馈结果的不确定性，可以大大增加窃取的难度</li>\n          <li>限制探测频次，避免接口被滥用</li>\n      </ul>')}}};a["default"].use(F["a"]);var C=s["a"].getStorage(),I=new F["a"]({locale:C.lang||"en",messages:{en:P["a"],cn:T}}),E=I,j=(n("5635"),n("0fae"),n("2a8c"),n("648e"),n("2f62")),D={},L={};a["default"].use(j["a"]);var R=new j["a"].Store({state:{},actions:D,mutations:L}),H=(n("d3b7"),n("8c4f"));a["default"].use(H["a"]);var X=function(){return n.e("home").then(n.bind(null,"3d71"))},M=function(){return n.e("article").then(n.bind(null,"995d"))},N=[{path:"",name:"Home",component:X},{path:"/home",name:"Home",component:X},{path:"/article",name:"Article",component:M}],q=new H["a"]({base:"/",routes:N}),$=q;a["default"].config.productionTip=!1,a["default"].use(W.a),new a["default"]({store:R,router:$,i18n:E,render:function(e){return e(x)}}).$mount("#app")},"648e":function(e,t,n){},"90b9":function(e,t,n){"use strict";var a=n("e80d"),o=n.n(a),r=function(e){console.log("onReportSuccess: ".concat(e))},i=function(e){console.log("onReportFail: ".concat(e))},l=new o.a({appkey:"0WEB043FW44V9LVE",strictMode:!1,delay:3e3,sessionDuration:6e4,onReportSuccess:r,onReportFail:i}),s=l,c="deepxray";t["a"]={trackData:function(e,t){s.onDirectUserAction(e,t)},reportPV:function(){s.reportPV()},getStorage:function(){var e={};try{e=JSON.parse(localStorage.getItem(c))||{}}catch(t){}return e},setStorage:function(e,t){var n=this.getStorage();console.log(111,n),n[e]=t,localStorage.setItem(c,JSON.stringify(n))}}},a901:function(e,t,n){"use strict";n("328b")},b332:function(e,t,n){"use strict";n("b70b")},b70b:function(e,t,n){},c6d3:function(e,t,n){e.exports=n.p+"img/article-waf.944a08de.png"},ef6a:function(e,t,n){"use strict";var a=n("c6d3"),o=n.n(a);t["a"]={header:{home:"Home",aboutUs:"About",lang:"English"},op:{readMore:"Read More"},title:{articles:"Our Researches"},tip:{articleNotFound:"Article not found"},footer:{contact:"Contact us with: "},intro:{xray:{title:"About Deep X-ray",sum:"Deep insight into cyber security like X-Ray",detail:"Hundreds of years ago, the advent of X-rays gave us the opportunity to read the details hidden behind the iceberg. Today, AI technology in the intelligent era is surging and changing with each passing day. We have the opportunity to see a broader and safer world. To this end, the Zhuque Laboratory of Tencent Security Platform Department has launched a series of research projects called Deep X-Ray, hoping to use the new era of X-ray AI technology to penetrate all obstacles and discover the infinite possibilities in cyber security."}},article:{wafRulesPrinter:{title:"About WAF Rules Printer",sum:"Print the defense rules behind the WAF firewall with AI technology",detail:'<img src="'.concat(o.a,'"><br>\n      <h3>Intro</h3>\n      <p>WAF blocks malicious requests through regular expressions, which makes many web attacks impossible to implement, such as SQL injection. If the attacker has mastered the rules of the waf backend, he can construct an attack that bypasses the waf. In addition, for commercial waf products, good protection rules can empower the defense capabilities, which is the core competitiveness of the product. If the waf rules are leaked, it will probably cause huge economic losses. Here we propose a completely new attack technique. With the help of machine learning&apos;s powerful prediction and reasoning capabilities, we are the first to realize the automation and batch theft of WAF protection rules in a black box manner, which can guide security experts to further carry out follow-up work such as penetration testing.</p>\n      <h3>Background</h3>\n      <p>Manual detection of WAF rules in a traditional way will cause missing processes in details, running in low efficiency and detecting inaccurate rules. Whilst, machine learning is good at collecting learning experience from historical attack payload data. It can avoid repeat detection and omission problems of using this experience to predict all possible words in a certain position of the payload. In addition, the original payload may contain multiple attack sub-payloads, which is difficult for us to launch them at the same time because of the large combination of space. Also machine learning can help us determine which sub-payloads are more likely to be malicious based on the existing detection data, so as to quickly find the smallest payload that we call seeds that can match the waf rule. In the end, we have implemented automatic and batch stealing the rules.</p>\n      <h3>Principle</h3>\n      <p>Specifically, we collect publicly available payload, after processing the data, build a binary-class model to generate a seed payload, and then use a multi-class recommendation model to detect each location in the seed payload, and infer the regular expression unit at this position whether it is blocked by WAF , and finally add, delete, and perform operations on these regular expression units to form the final rule set. This method mainly solves the two limitations of manual detection. First, manual detection is difficult to deploy on a large scale due to time-consuming and labor-consuming. In addition, this experience is closely related to the attacker&apos;s technical level, and it is easy to omit some details, which eventually leads to speculation. The rules that come out may only be a subset of the real protection rules.</p>\n      <h3>Defense</h3>\n      <ul>\n          <li>This attack can only be successfully implemented under ideal conditions。The attack will fail in some cases. Some wafs set a threshold based on the number of attacks and the frequency of attacks. When the threshold is exceeded, the source IP will be blocked, or Waf filters the HTTP traffice with a whitelist, or Waf filters the HTTP traffice with the method based on machine learning, these circumstances will make the attack difficult to implement.</li>\n          <li>Some suggestions for cloud vendors. Please rewrite the HTTP response before returning.Do not expose the original http response, this will also make the attack difficult to implement.</li>\n          <li>Cloud vendors, please do not give users the opportunity to test your security components, such as waf, you can limit user testing by setting thresholds or other methods.</li>\n      </ul>')}}}}});
//# sourceMappingURL=app.1375d27a.js.map